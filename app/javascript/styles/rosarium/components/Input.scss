@use "../measures.scss";
@use "../colors.scss";
@use "../utilities.scss";

@mixin rosarium-input(
  $input-font-size,
  $label-font-size,
  $gap,
  $height,
  $h-padding,
  $v-padding
) {
  @include utilities.flex-col;

  .rosarium-input-outer-label {
    color: colors.$tinctus-gray-700;
    font-size: $label-font-size;
    padding: 0 0 0 measures.$distance-s;
    margin-bottom: $gap;
  }

  .rosarium-input-wrapper {
    @include utilities.flex-col;
    align-items: stretch;
  }

  input {
    font-size: $input-font-size;
    border-color: colors.$tinctus-primary-400;
    border-style: solid;
    font-size: $input-font-size;
    padding: $v-padding $h-padding;
    border-width: 1px;
    border-radius: measures.$radius-l;
    height: $height;

    &:focus {
      outline: none;
    }

    &::placeholder {
      color: colors.$tinctus-gray-600;
    }

    transition: colors.$input-bg-color-transition;
  }
}

.rosarium-input--small {
  @include rosarium-input(
    $input-font-size: measures.$font-size-s,
    $label-font-size: measures.$font-size-s,
    $gap: measures.$distance-xs,
    $height: measures.$font-size-s,
    $h-padding: measures.$distance-s,
    $v-padding: measures.$distance-xs
  );
}

.rosarium-input--medium {
  @include rosarium-input(
    $input-font-size: measures.$font-size-l,
    $label-font-size: measures.$font-size-m,
    $gap: measures.$distance-xs,
    $height: measures.$font-size-l,
    $h-padding: measures.$distance-m,
    $v-padding: measures.$distance-s
  );
}

.rosarium-input--large {
  @include rosarium-input(
    $input-font-size: measures.$font-size-xl,
    $label-font-size: measures.$font-size-l,
    $gap: measures.$distance-s,
    $height: measures.$font-size-xl,
    $h-padding: measures.$distance-m,
    $v-padding: measures.$distance-m
  );

  .rosarium-input-wrapper {
    position: relative;

    label {
      position: absolute;
      top: 0;
      left: 0;
      height: measures.$font-size-xl;
      margin: measures.$distance-m;
      border-radius: measures.$radius-s;
      font-size: measures.$font-size-xl;
      color: colors.$tinctus-gray-600;
      transition: all 0.3s ease;

      &:has(+ input:not(:placeholder-shown)),
      &:has(+ input:focus) {
        top: -18px;
        margin: 0;
        padding: measures.$distance-s;
        font-size: measures.$font-size-l;
        color: colors.$tinctus-gray-700;
        background-color: colors.$tinctus-white;
      }
    }
  }
}